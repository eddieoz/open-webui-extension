var Oe=Object.defineProperty;var De=(l,t,e)=>t in l?Oe(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var ce=(l,t,e)=>(De(l,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function Q(){}function Le(l){return l()}function fe(){return Object.create(null)}function G(l){l.forEach(Le)}function Pe(l){return typeof l=="function"}function Te(l,t){return l!=l?t==t:l!==t||l&&typeof l=="object"||typeof l=="function"}function Ne(l){return Object.keys(l).length===0}function d(l,t){l.appendChild(t)}function O(l,t,e){l.insertBefore(t,e||null)}function F(l){l.parentNode&&l.parentNode.removeChild(l)}function We(l,t){for(let e=0;e<l.length;e+=1)l[e]&&l[e].d(t)}function m(l){return document.createElement(l)}function Z(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function J(l){return document.createTextNode(l)}function C(){return J(" ")}function Ue(){return J("")}function E(l,t,e,n){return l.addEventListener(t,e,n),()=>l.removeEventListener(t,e,n)}function o(l,t,e){e==null?l.removeAttribute(t):l.getAttribute(t)!==e&&l.setAttribute(t,e)}function qe(l){return Array.from(l.childNodes)}function we(l,t){t=""+t,l.data!==t&&(l.data=t)}function K(l,t){l.value=t??""}function pe(l,t,e){for(let n=0;n<l.options.length;n+=1){const r=l.options[n];if(r.__value===t){r.selected=!0;return}}(!e||t!==void 0)&&(l.selectedIndex=-1)}function ze(l){const t=l.querySelector(":checked");return t&&t.__value}let oe;function ne(l){oe=l}function Ke(){if(!oe)throw new Error("Function called outside component initialization");return oe}function Ve(l){Ke().$$.on_mount.push(l)}const ee=[],me=[];let te=[];const ge=[],Ye=Promise.resolve();let ue=!1;function Qe(){ue||(ue=!0,Ye.then(Ae))}function de(l){te.push(l)}const ae=new Set;let $=0;function Ae(){if($!==0)return;const l=oe;do{try{for(;$<ee.length;){const t=ee[$];$++,ne(t),Ze(t.$$)}}catch(t){throw ee.length=0,$=0,t}for(ne(null),ee.length=0,$=0;me.length;)me.pop()();for(let t=0;t<te.length;t+=1){const e=te[t];ae.has(e)||(ae.add(e),e())}te.length=0}while(ee.length);for(;ge.length;)ge.pop()();ue=!1,ae.clear(),ne(l)}function Ze(l){if(l.fragment!==null){l.update(),G(l.before_update);const t=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,t),l.after_update.forEach(de)}}function Ge(l){const t=[],e=[];te.forEach(n=>l.indexOf(n)===-1?t.push(n):e.push(n)),e.forEach(n=>n()),te=t}const se=new Set;let Je;function Re(l,t){l&&l.i&&(se.delete(l),l.i(t))}function Xe(l,t,e,n){if(l&&l.o){if(se.has(l))return;se.add(l),Je.c.push(()=>{se.delete(l)}),l.o(t)}}function he(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function $e(l){l&&l.c()}function Fe(l,t,e){const{fragment:n,after_update:r}=l.$$;n&&n.m(t,e),de(()=>{const s=l.$$.on_mount.map(Le).filter(Pe);l.$$.on_destroy?l.$$.on_destroy.push(...s):G(s),l.$$.on_mount=[]}),r.forEach(de)}function je(l,t){const e=l.$$;e.fragment!==null&&(Ge(e.after_update),G(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function et(l,t){l.$$.dirty[0]===-1&&(ee.push(l),Qe(),l.$$.dirty.fill(0)),l.$$.dirty[t/31|0]|=1<<t%31}function Be(l,t,e,n,r,s,c=null,i=[-1]){const p=oe;ne(l);const g=l.$$={fragment:null,ctx:[],props:s,update:Q,not_equal:r,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:fe(),dirty:i,skip_bound:!1,root:t.target||p.$$.root};c&&c(g.root);let w=!1;if(g.ctx=e?e(l,t.props||{},(u,a,...y)=>{const f=y.length?y[0]:a;return g.ctx&&r(g.ctx[u],g.ctx[u]=f)&&(!g.skip_bound&&g.bound[u]&&g.bound[u](f),w&&et(l,u)),a}):[],g.update(),w=!0,G(g.before_update),g.fragment=n?n(g.ctx):!1,t.target){if(t.hydrate){const u=qe(t.target);g.fragment&&g.fragment.l(u),u.forEach(F)}else g.fragment&&g.fragment.c();t.intro&&Re(l.$$.fragment),Fe(l,t.target,t.anchor),Ae()}ne(p)}class He{constructor(){ce(this,"$$");ce(this,"$$set")}$destroy(){je(this,1),this.$destroy=Q}$on(t,e){if(!Pe(e))return Q;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!Ne(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tt);const be=async(l,t)=>{var e;try{if(typeof chrome>"u"||!chrome.runtime)throw new Error("Chrome extension API not available");const n=await chrome.runtime.sendMessage({action:"fetchModels",key:l,url:t});if(!n.success)throw new Error(n.error);let r=((e=n.data)==null?void 0:e.data)??[];return r=r.filter(s=>s).sort((s,c)=>{const i=s.name.toLowerCase(),p=c.name.toLowerCase();return i<p?-1:i>p?1:s<c?-1:s>c?1:0}),console.log(r),r}catch(n){throw console.log(n),n}},ye=async()=>{try{if(typeof chrome>"u"||!chrome.runtime)throw new Error("Chrome extension API not available");const l=await chrome.runtime.sendMessage({action:"getPageContent"});if(!l.success)throw new Error(l.error);return l.data}catch(l){throw console.error("Error getting page content:",l),l}};function _e(l,t,e){const n=l.slice();return n[12]=t[e],n}function ve(l){let t,e,n;function r(i,p){return i[2]?nt:lt}let s=r(l),c=s(l);return{c(){t=m("div"),c.c(),o(t,"class","tlwd-fixed tlwd-top-0 tlwd-right-0 tlwd-left-0 tlwd-bottom-0 tlwd-w-full tlwd-min-h-screen tlwd-h-screen tlwd-flex tlwd-justify-center tlwd-z-[9999999999] tlwd-overflow-hidden tlwd-overscroll-contain")},m(i,p){O(i,t,p),c.m(t,null),e||(n=E(t,"mousedown",l[29]),e=!0)},p(i,p){s===(s=r(i))&&c?c.p(i,p):(c.d(1),c=s(i),c&&(c.c(),c.m(t,null)))},d(i){i&&F(t),c.d(),e=!1,n()}}}function lt(l){let t,e,n,r,s,c,i,p,g,w,u,a,y,f,x,A,I,M,_,j,V,D,W,U,S,L,v,N,le,re,B=l[0]&&xe(),R=l[9]&&ke(l);return{c(){t=m("div"),e=m("div"),n=m("form"),r=m("div"),s=m("label"),c=m("input"),i=C(),p=m("div"),g=m("div"),B&&B.c(),u=C(),a=m("span"),a.textContent="Ask about this page",y=C(),f=m("div"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="tlwd-w-3 tlwd-h-3 tlwd-text-gray-500 hover:tlwd-text-gray-400 tlwd-transition-colors tlwd-duration-200" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"></path></svg>',x=C(),A=m("div"),I=m("div"),I.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg>`,M=C(),_=m("input"),V=C(),D=m("div"),W=m("div"),W.textContent="Press ⌘Space+Shift to toggle",U=C(),S=m("button"),S.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-3"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 14.5M14.25 3.104c.251.023.501.05.75.082M19.8 14.5l-7.058 7.058a2.25 2.25 0 01-1.591.659H8.25a2.25 2.25 0 01-2.25-2.25V16.06a2.25 2.25 0 01.659-1.591L13.717 7.41a2.25 2.25 0 011.591-.659h2.892a2.25 2.25 0 012.25 2.25v2.892c0 .597-.237 1.17-.659 1.591z"></path></svg>`,L=C(),v=m("button"),v.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-3"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>`,N=C(),R&&R.c(),o(c,"id","context-toggle"),o(c,"type","checkbox"),o(c,"class","tlwd-sr-only tlwd-focus:tlwd-ring-2 tlwd-focus:tlwd-ring-blue-500"),o(c,"aria-describedby","context-toggle-description"),o(c,"aria-label","Include current page content in your question"),o(g,"class",w="tlwd-w-4 tlwd-h-4 tlwd-rounded tlwd-border tlwd-transition-all tlwd-duration-200 "+(l[0]?"tlwd-bg-blue-500 tlwd-border-blue-500 tlwd-shadow-sm":"tlwd-border-gray-400 tlwd-bg-transparent hover:tlwd-border-gray-300")),o(p,"class","tlwd-relative tlwd-transition-colors tlwd-duration-200"),o(a,"class","tlwd-text-neutral-300 tlwd-select-none tlwd-transition-colors tlwd-duration-200 hover:tlwd-text-neutral-200"),o(f,"class","tlwd-flex tlwd-items-center tlwd-ml-1"),o(f,"id","context-toggle-description"),o(f,"role","tooltip"),o(f,"aria-label","When enabled, your question will include the current page's content as context for more relevant answers"),o(s,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-cursor-pointer tlwd-text-sm tlwd-focus-within:tlwd-outline tlwd-focus-within:tlwd-outline-2 tlwd-focus-within:tlwd-outline-blue-500 tlwd-focus-within:tlwd-outline-offset-2 tlwd-rounded"),o(s,"for","context-toggle"),o(r,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full tlwd-mb-3"),o(I,"class","tlwd-flex tlwd-items-center"),o(_,"id","open-webui-search-input"),o(_,"placeholder",j=l[0]?"Ask about this page...":"Search Open WebUI"),o(_,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(_,"autocomplete","one-time-code"),o(A,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full"),o(W,"class","tlwd-text-right tlwd-text-[0.7rem] tlwd-p-0 tlwd-m-0 tlwd-text-neutral-300 tlwd-h-fit"),o(S,"class","tlwd-h-fit tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-yellow-400 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none tlwd-mr-1"),o(S,"type","button"),o(S,"title","Test Content Extraction"),o(v,"class","tlwd-h-fit tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-neutral-100 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none"),o(v,"type","button"),o(D,"class","tlwd-flex tlwd-justify-end tlwd-gap-1 tlwd-items-center"),o(n,"class","tlwd-text-gray-200 tlwd-w-full tlwd-p-0 tlwd-m-0"),o(n,"autocomplete","off"),o(e,"class","tlwd-w-full tlwd-flex tlwd-flex-col tlwd-justify-between tlwd-py-2.5 tlwd-px-3.5 tlwd-rounded-2xl tlwd-outline tlwd-outline-1 tlwd-outline-gray-850 tlwd-backdrop-blur-3xl tlwd-bg-gray-850/70 shadow-4xl modal-animation"),o(t,"class","tlwd-m-auto tlwd-max-w-xl tlwd-w-full tlwd-pb-32")},m(H,q){O(H,t,q),d(t,e),d(e,n),d(n,r),d(r,s),d(s,c),c.checked=l[0],d(s,i),d(s,p),d(p,g),B&&B.m(g,null),d(s,u),d(s,a),d(s,y),d(s,f),d(n,x),d(n,A),d(A,I),d(A,M),d(A,_),K(_,l[5]),d(n,V),d(n,D),d(D,W),d(D,U),d(D,S),d(D,L),d(D,v),d(e,N),R&&R.m(e,null),le||(re=[E(c,"change",l[23]),E(c,"click",ct),E(c,"keydown",l[24]),E(_,"input",l[25]),E(S,"click",l[17]),E(v,"click",l[26]),E(n,"submit",l[13]),E(n,"mousedown",at)],le=!0)},p(H,q){q[0]&1&&(c.checked=H[0]),H[0]?B||(B=xe(),B.c(),B.m(g,null)):B&&(B.d(1),B=null),q[0]&1&&w!==(w="tlwd-w-4 tlwd-h-4 tlwd-rounded tlwd-border tlwd-transition-all tlwd-duration-200 "+(H[0]?"tlwd-bg-blue-500 tlwd-border-blue-500 tlwd-shadow-sm":"tlwd-border-gray-400 tlwd-bg-transparent hover:tlwd-border-gray-300"))&&o(g,"class",w),q[0]&1&&j!==(j=H[0]?"Ask about this page...":"Search Open WebUI")&&o(_,"placeholder",j),q[0]&32&&_.value!==H[5]&&K(_,H[5]),H[9]?R?R.p(H,q):(R=ke(H),R.c(),R.m(e,null)):R&&(R.d(1),R=null)},d(H){H&&F(t),B&&B.d(),R&&R.d(),le=!1,G(re)}}}function nt(l){let t,e,n,r,s,c,i,p,g,w,u,a,y,f,x,A,I,M=l[6]&&l[6].length>0&&Ee(l);return{c(){t=m("div"),e=m("div"),n=m("form"),r=m("div"),s=m("div"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>`,c=C(),i=m("input"),p=C(),g=m("div"),w=m("div"),w.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"></path></svg>`,u=C(),a=m("input"),y=C(),f=m("button"),f.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>`,x=C(),M&&M.c(),o(s,"class","tlwd-flex tlwd-items-center"),o(i,"id","open-webui-url-input"),o(i,"placeholder","Open WebUI URL"),o(i,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(i,"autocomplete","one-time-code"),i.required=!0,o(r,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full"),o(w,"class","tlwd-flex tlwd-items-center"),o(a,"placeholder","Open WebUI API Key"),o(a,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(a,"autocomplete","one-time-code"),a.required=!0,o(f,"class","tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-neutral-100 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none"),o(f,"type","button"),o(g,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full tlwd-mt-2"),o(n,"class","tlwd-text-gray-200 tlwd-w-full tlwd-p-0 tlwd-m-0"),o(n,"autocomplete","off"),o(e,"class","tlwd-w-full tlwd-flex tlwd-flex-col tlwd-justify-between tlwd-py-2.5 tlwd-px-3.5 tlwd-rounded-2xl tlwd-outline tlwd-outline-1 tlwd-outline-gray-850 tlwd-backdrop-blur-3xl tlwd-bg-gray-850/70 shadow-4xl modal-animation"),o(t,"class","tlwd-m-auto tlwd-max-w-sm tlwd-w-full tlwd-pb-32")},m(_,j){O(_,t,j),d(t,e),d(e,n),d(n,r),d(r,s),d(r,c),d(r,i),K(i,l[3]),d(n,p),d(n,g),d(g,w),d(g,u),d(g,a),K(a,l[4]),d(g,y),d(g,f),d(n,x),M&&M.m(n,null),A||(I=[E(i,"input",l[19]),E(a,"input",l[20]),E(f,"click",l[21]),E(n,"submit",l[18]),E(n,"mousedown",it)],A=!0)},p(_,j){j[0]&8&&i.value!==_[3]&&K(i,_[3]),j[0]&16&&a.value!==_[4]&&K(a,_[4]),_[6]&&_[6].length>0?M?M.p(_,j):(M=Ee(_),M.c(),M.m(n,null)):M&&(M.d(1),M=null)},d(_){_&&F(t),M&&M.d(),A=!1,G(I)}}}function xe(l){let t,e;return{c(){t=Z("svg"),e=Z("path"),o(e,"stroke-linecap","round"),o(e,"stroke-linejoin","round"),o(e,"d","m4.5 12.75 6 6 9-13.5"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(t,"stroke-width",3),o(t,"stroke","currentColor"),o(t,"class","tlwd-w-3 tlwd-h-3 tlwd-text-white tlwd-absolute tlwd-top-0.5 tlwd-left-0.5 tlwd-transition-opacity tlwd-duration-200"),o(t,"role","img"),o(t,"aria-hidden","true")},m(n,r){O(n,t,r),d(t,e)},d(n){n&&F(t)}}}function ke(l){let t,e,n,r,s,c,i,p=l[7]?"AI is responding...":"Response complete",g,w,u,a,y,f,x,A,I,M,_,j,V,D;function W(v,N){return v[8]?st:v[7]?rt:ot}let U=W(l),S=U(l),L=l[11]&&l[10]&&Ce(l);return{c(){t=m("div"),e=m("div"),n=m("div"),r=m("div"),c=C(),i=m("span"),g=J(p),w=C(),u=m("div"),a=m("button"),y=Z("svg"),f=Z("path"),A=C(),I=m("button"),I.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="tlwd-w-4 tlwd-h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',M=C(),_=m("div"),S.c(),j=C(),L&&L.c(),o(r,"class",s="tlwd-w-2 tlwd-h-2 tlwd-rounded-full "+(l[7]?"tlwd-bg-blue-500 tlwd-animate-pulse":"tlwd-bg-green-500")),o(i,"class","tlwd-text-sm tlwd-text-gray-300"),o(n,"class","tlwd-flex tlwd-items-center tlwd-gap-2"),o(f,"stroke-linecap","round"),o(f,"stroke-linejoin","round"),o(f,"d","M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"),o(y,"xmlns","http://www.w3.org/2000/svg"),o(y,"fill","none"),o(y,"viewBox","0 0 24 24"),o(y,"stroke-width",2),o(y,"stroke","currentColor"),o(y,"class","tlwd-w-4 tlwd-h-4"),o(a,"class","tlwd-p-1 tlwd-rounded tlwd-bg-transparent hover:tlwd-bg-gray-700 tlwd-text-gray-400 hover:tlwd-text-gray-200 tlwd-transition-colors tlwd-duration-200"),o(a,"type","button"),o(a,"title","Copy response"),a.disabled=x=!l[8],o(I,"class","tlwd-p-1 tlwd-rounded tlwd-bg-transparent hover:tlwd-bg-gray-700 tlwd-text-gray-400 hover:tlwd-text-gray-200 tlwd-transition-colors tlwd-duration-200"),o(I,"type","button"),o(I,"title","Clear response"),o(u,"class","tlwd-flex tlwd-items-center tlwd-gap-2"),o(e,"class","tlwd-flex tlwd-items-center tlwd-justify-between tlwd-mb-3"),o(_,"class","tlwd-max-h-96 tlwd-overflow-y-auto tlwd-text-sm tlwd-text-gray-200 tlwd-leading-relaxed tlwd-whitespace-pre-wrap"),o(t,"class","tlwd-mt-4 tlwd-p-4 tlwd-rounded-xl tlwd-bg-gray-800/50 tlwd-backdrop-blur-sm tlwd-border tlwd-border-gray-700")},m(v,N){O(v,t,N),d(t,e),d(e,n),d(n,r),d(n,c),d(n,i),d(i,g),d(e,w),d(e,u),d(u,a),d(a,y),d(y,f),d(u,A),d(u,I),d(t,M),d(t,_),S.m(_,null),d(t,j),L&&L.m(t,null),V||(D=[E(a,"click",l[27]),E(I,"click",l[28])],V=!0)},p(v,N){N[0]&128&&s!==(s="tlwd-w-2 tlwd-h-2 tlwd-rounded-full "+(v[7]?"tlwd-bg-blue-500 tlwd-animate-pulse":"tlwd-bg-green-500"))&&o(r,"class",s),N[0]&128&&p!==(p=v[7]?"AI is responding...":"Response complete")&&we(g,p),N[0]&256&&x!==(x=!v[8])&&(a.disabled=x),U===(U=W(v))&&S?S.p(v,N):(S.d(1),S=U(v),S&&(S.c(),S.m(_,null))),v[11]&&v[10]?L?L.p(v,N):(L=Ce(v),L.c(),L.m(t,null)):L&&(L.d(1),L=null)},d(v){v&&F(t),S.d(),L&&L.d(),V=!1,G(D)}}}function ot(l){let t;return{c(){t=m("div"),t.textContent="No response yet",o(t,"class","tlwd-text-gray-500")},m(e,n){O(e,t,n)},p:Q,d(e){e&&F(t)}}}function rt(l){let t;return{c(){t=m("div"),t.innerHTML=`<div class="tlwd-animate-spin tlwd-w-4 tlwd-h-4 tlwd-border-2 tlwd-border-gray-600 tlwd-border-t-blue-500 tlwd-rounded-full"></div>
                    Waiting for response...`,o(t,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-text-gray-400")},m(e,n){O(e,t,n)},p:Q,d(e){e&&F(t)}}}function st(l){let t;return{c(){t=J(l[8])},m(e,n){O(e,t,n)},p(e,n){n[0]&256&&we(t,e[8])},d(e){e&&F(t)}}}function Ce(l){let t,e,n,r,s,c,i,p,g,w=l[10].canRetry&&Me(l),u=l[10].canRetryWithoutContext&&Se(l);return{c(){t=m("div"),e=m("div"),e.textContent="Error Recovery Options",n=C(),r=m("div"),w&&w.c(),s=C(),u&&u.c(),c=C(),i=m("button"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="tlwd-w-3 tlwd-h-3"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>
                      Open in New Tab`,o(e,"class","tlwd-text-xs tlwd-text-gray-400 tlwd-mb-3"),o(i,"class","tlwd-px-3 tlwd-py-1.5 tlwd-text-xs tlwd-bg-gray-600 hover:tlwd-bg-gray-700 tlwd-text-white tlwd-rounded tlwd-transition-colors tlwd-duration-200 tlwd-flex tlwd-items-center tlwd-gap-1"),o(i,"type","button"),o(r,"class","tlwd-flex tlwd-flex-wrap tlwd-gap-2"),o(t,"class","tlwd-mt-4 tlwd-pt-4 tlwd-border-t tlwd-border-gray-600")},m(a,y){O(a,t,y),d(t,e),d(t,n),d(t,r),w&&w.m(r,null),d(r,s),u&&u.m(r,null),d(r,c),d(r,i),p||(g=E(i,"click",l[16]),p=!0)},p(a,y){a[10].canRetry?w?w.p(a,y):(w=Me(a),w.c(),w.m(r,s)):w&&(w.d(1),w=null),a[10].canRetryWithoutContext?u?u.p(a,y):(u=Se(a),u.c(),u.m(r,c)):u&&(u.d(1),u=null)},d(a){a&&F(t),w&&w.d(),u&&u.d(),p=!1,g()}}}function Me(l){let t,e,n,r,s,c;return{c(){t=m("button"),e=Z("svg"),n=Z("path"),r=J(`
                        Retry with Context`),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",2),o(e,"stroke","currentColor"),o(e,"class","tlwd-w-3 tlwd-h-3"),o(t,"class","tlwd-px-3 tlwd-py-1.5 tlwd-text-xs tlwd-bg-blue-600 hover:tlwd-bg-blue-700 tlwd-text-white tlwd-rounded tlwd-transition-colors tlwd-duration-200 tlwd-flex tlwd-items-center tlwd-gap-1"),o(t,"type","button"),t.disabled=l[7]},m(i,p){O(i,t,p),d(t,e),d(e,n),d(t,r),s||(c=E(t,"click",l[14]),s=!0)},p(i,p){p[0]&128&&(t.disabled=i[7])},d(i){i&&F(t),s=!1,c()}}}function Se(l){let t,e,n,r,s,c;return{c(){t=m("button"),e=Z("svg"),n=Z("path"),r=J(`
                        Retry without Context`),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",2),o(e,"stroke","currentColor"),o(e,"class","tlwd-w-3 tlwd-h-3"),o(t,"class","tlwd-px-3 tlwd-py-1.5 tlwd-text-xs tlwd-bg-orange-600 hover:tlwd-bg-orange-700 tlwd-text-white tlwd-rounded tlwd-transition-colors tlwd-duration-200 tlwd-flex tlwd-items-center tlwd-gap-1"),o(t,"type","button"),t.disabled=l[7]},m(i,p){O(i,t,p),d(t,e),d(e,n),d(t,r),s||(c=E(t,"click",l[15]),s=!0)},p(i,p){p[0]&128&&(t.disabled=i[7])},d(i){i&&F(t),s=!1,c()}}}function Ee(l){let t,e,n,r,s,c,i,p,g,w=he(l[6]),u=[];for(let a=0;a<w.length;a+=1)u[a]=Ie(_e(l,w,a));return{c(){t=m("div"),e=m("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"></path></svg>`,n=C(),r=m("select"),s=m("option"),s.textContent="Select a model";for(let a=0;a<u.length;a+=1)u[a].c();c=C(),i=m("button"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5"></path></svg>`,o(e,"class","tlwd-flex tlwd-items-center"),s.__value="",K(s,s.__value),o(r,"id","open-webui-model-input"),o(r,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(r,"autocomplete","off"),r.required=!0,l[12]===void 0&&de(()=>l[22].call(r)),o(i,"class","tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-neutral-100 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none"),o(i,"type","submit"),o(t,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full tlwd-mt-2")},m(a,y){O(a,t,y),d(t,e),d(t,n),d(t,r),d(r,s);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(r,null);pe(r,l[12],!0),d(t,c),d(t,i),p||(g=E(r,"change",l[22]),p=!0)},p(a,y){if(y[0]&64){w=he(a[6]);let f;for(f=0;f<w.length;f+=1){const x=_e(a,w,f);u[f]?u[f].p(x,y):(u[f]=Ie(x),u[f].c(),u[f].m(r,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=w.length}y[0]&4160&&pe(r,a[12])},d(a){a&&F(t),We(u,a),p=!1,g()}}}function Ie(l){let t,e=(l[12].name??l[12].id)+"",n,r;return{c(){t=m("option"),n=J(e),t.__value=r=l[12].id,K(t,t.__value)},m(s,c){O(s,t,c),d(t,n)},p(s,c){c[0]&64&&e!==(e=(s[12].name??s[12].id)+"")&&we(n,e),c[0]&64&&r!==(r=s[12].id)&&(t.__value=r,K(t,t.__value))},d(s){s&&F(t)}}}function dt(l){let t,e=l[1]&&ve(l);return{c(){e&&e.c(),t=Ue()},m(n,r){e&&e.m(n,r),O(n,t,r)},p(n,r){n[1]?e?e.p(n,r):(e=ve(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:Q,o:Q,d(n){n&&F(t),e&&e.d(n)}}}const it=l=>{l.stopPropagation()},ct=l=>l.stopPropagation(),at=l=>{l.stopPropagation()};function ut(l,t,e){let n=!1,r=!0,s="",c="",i="",p="",g=[],w=!0,u=!1,a="",y=!1,f=null,x=!1;const A=()=>{console.log("resetConfig");try{chrome.storage.local.clear().then(()=>{console.log("Value is cleared")})}catch(b){console.log(b),localStorage.setItem("url",""),localStorage.setItem("key",""),localStorage.setItem("model",""),localStorage.setItem("includePageContext","true")}e(3,s=""),e(4,c=""),e(12,i=""),e(6,g=[]),e(0,w=!0),e(2,r=!0),e(9,y=!1),e(8,a=""),e(7,u=!1),e(10,f=null),e(11,x=!1)},I=async b=>{var P,T;if(b.preventDefault(),!!p.trim()){if(!w){window.open(`${s}/?q=${encodeURIComponent(p)}&models=${i}`,"_blank"),e(5,p=""),e(1,n=!1);return}try{e(7,u=!0),e(9,y=!0),e(8,a=""),e(10,f=null),e(11,x=!1);let h=null,X=!1;try{console.log("📄 Extracting page content..."),h=await Promise.race([ye(),new Promise((z,ie)=>setTimeout(()=>ie(new Error("Content extraction timeout")),1e4))]),console.log("✅ Page content extracted successfully")}catch(z){console.warn("⚠️ Content extraction failed:",z),X=!0,e(10,f={type:"content_extraction",message:"Unable to extract page content",details:z.message,canRetryWithoutContext:!0}),e(8,a=`Unable to extract page content: ${z.message}

You can try again without page context, or retry with context.`),e(7,u=!1),e(11,x=!0);return}const k=M(p,h);console.log("🚀 Starting context-aware completion:",{userQuery:p,hasContext:!!h,contextLength:((P=h==null?void 0:h.mainContent)==null?void 0:P.length)||0});const Y=await Promise.race([chrome.runtime.sendMessage({action:"fetchCompletion",url:s,key:c,isOpenAI:((T=g.find(z=>z.id===i))==null?void 0:T.owned_by)==="openai",inlineMode:!1,payload:{model:i,messages:[{role:"system",content:"You are a helpful assistant. When provided with page context, use it to give more relevant and specific answers to the user's questions."},{role:"user",content:k}],stream:!0}}),new Promise((z,ie)=>setTimeout(()=>ie(new Error("API request timeout")),3e4))]);if(!Y.success)throw new Error(Y.error)}catch(h){console.error("❌ Context-aware query failed:",h);const X=h.message.includes("timeout")||h.message.includes("network")||h.message.includes("fetch"),k=h.message.includes("API")||h.message.includes("unauthorized")||h.message.includes("400")||h.message.includes("401")||h.message.includes("500");X?(e(10,f={type:"network",message:"Network connection issue",details:h.message,canRetry:!0,canRetryWithoutContext:!0}),e(8,a=`Network Error: ${h.message}

This might be due to:
• Poor internet connection
• Server is temporarily unavailable
• Request timeout

You can retry or try without page context.`)):k?(e(10,f={type:"api",message:"AI service unavailable",details:h.message,canRetry:!0,canRetryWithoutContext:!0}),e(8,a=`API Error: ${h.message}

This might be due to:
• Invalid API key or configuration
• Server maintenance
• Rate limiting

Please check your settings or try again later.`)):(e(10,f={type:"unknown",message:"Unexpected error occurred",details:h.message,canRetry:!0,canRetryWithoutContext:!0}),e(8,a=`Unexpected Error: ${h.message}

Something went wrong. You can try again or use the fallback search.`)),e(7,u=!1),e(11,x=!0),console.error("🐛 Error details:",{type:f.type,message:f.message,details:f.details,timestamp:new Date().toISOString()})}}},M=(b,P)=>{let T="";return P&&(T+=`Context: Page Title: ${P.title||"Untitled"}
`,T+=`URL: ${P.url}
`,P.metaDescription&&(T+=`Description: ${P.metaDescription}
`),P.selectedText&&(T+=`Selected Text: ${P.selectedText}
`),T+=`Content: ${P.mainContent||"No content available"}

`),T+=`User Question: ${b}

`,P&&(T+="Please answer the user's question based on the provided page context. If the context is not relevant to the question, you can provide a general answer but mention that the context may not be directly related."),T},_=async()=>{console.log("🔄 Retrying with context..."),e(10,f=null),e(11,x=!1),await I({preventDefault:()=>{}})},j=async()=>{console.log("🔄 Retrying without context...");const b=w;e(0,w=!1),e(10,f=null),e(11,x=!1);try{await I({preventDefault:()=>{}})}finally{e(0,w=b)}},V=()=>{console.log("🔄 Falling back to normal search..."),window.open(`${s}/?q=${encodeURIComponent(p)}&models=${i}`,"_blank"),e(5,p=""),e(1,n=!1),e(9,y=!1),e(8,a=""),e(10,f=null),e(11,x=!1)},D=async()=>{try{console.log("🧪 Testing content extraction and context-aware prompt..."),console.log("📋 Toggle State:",{includePageContext:w,placeholder:w?"Ask about this page...":"Search Open WebUI"});const b=await ye();console.log("✅ Content extracted successfully:",b);const T=M("What is this page about?",b);console.log("📝 Context-aware prompt created:",T),console.log("📊 Content Summary:",{title:b.title,domain:b.domain,contentLength:b.contentLength,hasMetaDescription:!!b.metaDescription,hasSelectedText:!!b.selectedText,timestamp:b.timestamp,promptLength:T.length}),alert(`Content extraction & prompt creation successful!

Toggle State: ${w?"Enabled":"Disabled"}
Title: ${b.title}
Domain: ${b.domain}
Content Length: ${b.contentLength} chars
Prompt Length: ${T.length} chars

Check console for full details including the generated prompt.`)}catch(b){console.error("❌ Content extraction failed:",b),alert(`Content extraction failed: ${b.message}`)}},W=b=>{b.preventDefault();try{chrome.storage.local.set({url:s,key:c,model:i,includePageContext:w}).then(()=>{console.log("Value is set")})}catch(P){console.log(P),localStorage.setItem("url",s),localStorage.setItem("key",c),localStorage.setItem("model",i),localStorage.setItem("includePageContext",w.toString())}e(2,r=!1)};Ve(async()=>{let b=null;try{b=await chrome.storage.local.get()}catch(h){console.log(h)}const P=h=>{h.action==="contextStreamChunk"?e(8,a+=h.text):h.action==="contextStreamComplete"&&(console.log("🏁 Context-aware stream completed"),e(7,u=!1))};try{chrome.runtime.onMessage.addListener(P)}catch(h){console.log("Failed to add message listener:",h)}b&&(e(3,s=b.url??""),e(4,c=b.key??""),e(12,i=b.model??""),e(0,w=b.includePageContext??!0),b.url&&b.key&&b.model&&(e(6,g=await be(b.key,b.url).catch(h=>{console.log(h),A()})),g&&e(2,r=!1)));const T=async h=>{var X;if(n&&h.shiftKey&&h.key==="Escape"?A():h.key==="Escape"&&(y||x?(e(9,y=!1),e(8,a=""),e(7,u=!1),e(10,f=null),e(11,x=!1)):e(1,n=!1)),h.key===" "&&(h.metaKey||h.ctrlKey)&&(h.shiftKey||h.altKey)){console.log("🔧 Search shortcut triggered"),h.preventDefault();try{const k=await chrome.runtime.sendMessage({action:"getSelection"});((k==null?void 0:k.data)??!1)&&e(5,p=k.data)}catch(k){console.log("catch",k)}e(1,n=!n),setTimeout(()=>{const k=document.getElementById("open-webui-search-input");k&&k.focus()},0)}if(c!==""&&s!==""&&h.key==="Enter"&&(h.metaKey||h.ctrlKey)&&(h.shiftKey||h.altKey)){h.preventDefault();try{console.log("🔧 Direct completion triggered");const k=await chrome.runtime.sendMessage({action:"getSelection"});if(console.log("📝 Selected text:",k==null?void 0:k.data),(k==null?void 0:k.data)??!1){console.log("✅ Text selected, starting AI completion"),await chrome.runtime.sendMessage({action:"writeText",text:`
`}),console.log("🌐 Using background script for API call");const Y=await chrome.runtime.sendMessage({action:"fetchCompletion",url:s,key:c,isOpenAI:((X=g.find(z=>z.id===i))==null?void 0:X.owned_by)==="openai",inlineMode:!0,payload:{model:i,messages:[{role:"system",content:"You are a helpful assistant."},{role:"user",content:k.data}],stream:!0}});Y.success?console.log("🚀 Background streaming started"):(console.error("❌ Background request failed:",Y.error),await chrome.runtime.sendMessage({action:"writeText",text:`Error: ${Y.error}`}))}else console.log("⚠️ No text selected"),await chrome.runtime.sendMessage({action:"writeText",text:"No text selected. Please select text first."})}catch(k){console.error("💥 Completion error:",k);try{await chrome.runtime.sendMessage({action:"writeText",text:`Error: ${k.message}`})}catch(Y){console.error("Failed to send error message:",Y)}}}};return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T);try{chrome.runtime.onMessage.removeListener(P)}catch(h){console.log("Failed to remove message listener:",h)}}});function U(){s=this.value,e(3,s)}function S(){c=this.value,e(4,c)}const L=async()=>{s.endsWith("/")&&e(3,s=s.slice(0,-1)),e(6,g=await be(c,s))};function v(){i=ze(this),e(12,i),e(6,g)}function N(){w=this.checked,e(0,w)}const le=b=>{b.key===" "&&(b.preventDefault(),b.stopPropagation(),e(0,w=!w))};function re(){p=this.value,e(5,p)}const B=()=>{e(2,r=!0)},R=()=>{navigator.clipboard.writeText(a)},H=()=>{e(9,y=!1),e(8,a=""),e(5,p=""),e(10,f=null),e(11,x=!1)},q=()=>{e(1,n=!1)};return l.$$.update=()=>{if(l.$$.dirty[0]&1&&typeof w<"u")try{chrome.storage.local.set({includePageContext:w})}catch{localStorage.setItem("includePageContext",w.toString())}},[w,n,r,s,c,p,g,u,a,y,f,x,i,I,_,j,V,D,W,U,S,L,v,N,le,re,B,R,H,q]}class wt extends He{constructor(t){super(),Be(this,t,ut,dt,Te,{},null,[-1,-1])}}function ft(l){let t,e,n;return e=new wt({}),{c(){t=m("div"),$e(e.$$.fragment),o(t,"class","extension-container")},m(r,s){O(r,t,s),Fe(e,t,null),n=!0},p:Q,i(r){n||(Re(e.$$.fragment,r),n=!0)},o(r){Xe(e.$$.fragment,r),n=!1},d(r){r&&F(t),je(e)}}}class pt extends He{constructor(t){super(),Be(this,t,null,ft,Te,{})}}new pt({target:document.getElementById("extension-app")});
