var Ot=Object.defineProperty;var Dt=(l,e,t)=>e in l?Ot(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var ct=(l,e,t)=>(Dt(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Q(){}function Lt(l){return l()}function ft(){return Object.create(null)}function G(l){l.forEach(Lt)}function Pt(l){return typeof l=="function"}function Tt(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Nt(l){return Object.keys(l).length===0}function d(l,e){l.appendChild(e)}function O(l,e,t){l.insertBefore(e,t||null)}function F(l){l.parentNode&&l.parentNode.removeChild(l)}function Wt(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function m(l){return document.createElement(l)}function Z(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function J(l){return document.createTextNode(l)}function C(){return J(" ")}function Ut(){return J("")}function E(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function o(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function qt(l){return Array.from(l.childNodes)}function wt(l,e){e=""+e,l.data!==e&&(l.data=e)}function K(l,e){l.value=e??""}function pt(l,e,t){for(let n=0;n<l.options.length;n+=1){const r=l.options[n];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function zt(l){const e=l.querySelector(":checked");return e&&e.__value}let ot;function nt(l){ot=l}function Kt(){if(!ot)throw new Error("Function called outside component initialization");return ot}function Vt(l){Kt().$$.on_mount.push(l)}const tt=[],mt=[];let et=[];const gt=[],Yt=Promise.resolve();let ut=!1;function Qt(){ut||(ut=!0,Yt.then(At))}function dt(l){et.push(l)}const at=new Set;let $=0;function At(){if($!==0)return;const l=ot;do{try{for(;$<tt.length;){const e=tt[$];$++,nt(e),Zt(e.$$)}}catch(e){throw tt.length=0,$=0,e}for(nt(null),tt.length=0,$=0;mt.length;)mt.pop()();for(let e=0;e<et.length;e+=1){const t=et[e];at.has(t)||(at.add(t),t())}et.length=0}while(tt.length);for(;gt.length;)gt.pop()();ut=!1,at.clear(),nt(l)}function Zt(l){if(l.fragment!==null){l.update(),G(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(dt)}}function Gt(l){const e=[],t=[];et.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),et=e}const st=new Set;let Jt;function Rt(l,e){l&&l.i&&(st.delete(l),l.i(e))}function Xt(l,e,t,n){if(l&&l.o){if(st.has(l))return;st.add(l),Jt.c.push(()=>{st.delete(l)}),l.o(e)}}function ht(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function $t(l){l&&l.c()}function Ft(l,e,t){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),dt(()=>{const s=l.$$.on_mount.map(Lt).filter(Pt);l.$$.on_destroy?l.$$.on_destroy.push(...s):G(s),l.$$.on_mount=[]}),r.forEach(dt)}function jt(l,e){const t=l.$$;t.fragment!==null&&(Gt(t.after_update),G(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function te(l,e){l.$$.dirty[0]===-1&&(tt.push(l),Qt(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Bt(l,e,t,n,r,s,c=null,i=[-1]){const p=ot;nt(l);const g=l.$$={fragment:null,ctx:[],props:s,update:Q,not_equal:r,bound:ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:ft(),dirty:i,skip_bound:!1,root:e.target||p.$$.root};c&&c(g.root);let w=!1;if(g.ctx=t?t(l,e.props||{},(u,a,...y)=>{const f=y.length?y[0]:a;return g.ctx&&r(g.ctx[u],g.ctx[u]=f)&&(!g.skip_bound&&g.bound[u]&&g.bound[u](f),w&&te(l,u)),a}):[],g.update(),w=!0,G(g.before_update),g.fragment=n?n(g.ctx):!1,e.target){if(e.hydrate){const u=qt(e.target);g.fragment&&g.fragment.l(u),u.forEach(F)}else g.fragment&&g.fragment.c();e.intro&&Rt(l.$$.fragment),Ft(l,e.target,e.anchor),At()}nt(p)}class Ht{constructor(){ct(this,"$$");ct(this,"$$set")}$destroy(){jt(this,1),this.$destroy=Q}$on(e,t){if(!Pt(t))return Q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ee="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ee);const bt=async(l,e)=>{var t;try{if(typeof chrome>"u"||!chrome.runtime)throw new Error("Chrome extension API not available");const n=await chrome.runtime.sendMessage({action:"fetchModels",key:l,url:e});if(!n.success)throw new Error(n.error);let r=((t=n.data)==null?void 0:t.data)??[];return r=r.filter(s=>s).sort((s,c)=>{const i=s.name.toLowerCase(),p=c.name.toLowerCase();return i<p?-1:i>p?1:s<c?-1:s>c?1:0}),console.log(r),r}catch(n){throw console.log(n),n}},yt=async()=>{try{if(typeof chrome>"u"||!chrome.runtime)throw new Error("Chrome extension API not available");const l=await chrome.runtime.sendMessage({action:"getPageContent"});if(!l.success)throw new Error(l.error);return l.data}catch(l){throw console.error("Error getting page content:",l),l}};function _t(l,e,t){const n=l.slice();return n[12]=e[t],n}function vt(l){let e,t,n;function r(i,p){return i[2]?ne:le}let s=r(l),c=s(l);return{c(){e=m("div"),c.c(),o(e,"class","tlwd-fixed tlwd-top-0 tlwd-right-0 tlwd-left-0 tlwd-bottom-0 tlwd-w-full tlwd-min-h-screen tlwd-h-screen tlwd-flex tlwd-justify-center tlwd-z-[9999999999] tlwd-overflow-hidden tlwd-overscroll-contain")},m(i,p){O(i,e,p),c.m(e,null),t||(n=E(e,"mousedown",l[29]),t=!0)},p(i,p){s===(s=r(i))&&c?c.p(i,p):(c.d(1),c=s(i),c&&(c.c(),c.m(e,null)))},d(i){i&&F(e),c.d(),t=!1,n()}}}function le(l){let e,t,n,r,s,c,i,p,g,w,u,a,y,f,x,A,I,M,_,j,V,D,W,U,S,L,v,N,lt,rt,B=l[0]&&xt(),R=l[9]&&kt(l);return{c(){e=m("div"),t=m("div"),n=m("form"),r=m("div"),s=m("label"),c=m("input"),i=C(),p=m("div"),g=m("div"),B&&B.c(),u=C(),a=m("span"),a.textContent="Ask about this page",y=C(),f=m("div"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="tlwd-w-3 tlwd-h-3 tlwd-text-gray-500 hover:tlwd-text-gray-400 tlwd-transition-colors tlwd-duration-200" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"></path></svg>',x=C(),A=m("div"),I=m("div"),I.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg>`,M=C(),_=m("input"),V=C(),D=m("div"),W=m("div"),W.textContent="Press âŒ˜Space+Shift to toggle",U=C(),S=m("button"),S.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-3"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 14.5M14.25 3.104c.251.023.501.05.75.082M19.8 14.5l-7.058 7.058a2.25 2.25 0 01-1.591.659H8.25a2.25 2.25 0 01-2.25-2.25V16.06a2.25 2.25 0 01.659-1.591L13.717 7.41a2.25 2.25 0 011.591-.659h2.892a2.25 2.25 0 012.25 2.25v2.892c0 .597-.237 1.17-.659 1.591z"></path></svg>`,L=C(),v=m("button"),v.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-3"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>`,N=C(),R&&R.c(),o(c,"id","context-toggle"),o(c,"type","checkbox"),o(c,"class","tlwd-sr-only tlwd-focus:tlwd-ring-2 tlwd-focus:tlwd-ring-blue-500"),o(c,"aria-describedby","context-toggle-description"),o(c,"aria-label","Include current page content in your question"),o(g,"class",w="tlwd-w-4 tlwd-h-4 tlwd-rounded tlwd-border tlwd-transition-all tlwd-duration-200 "+(l[0]?"tlwd-bg-blue-500 tlwd-border-blue-500 tlwd-shadow-sm":"tlwd-border-gray-400 tlwd-bg-transparent hover:tlwd-border-gray-300")),o(p,"class","tlwd-relative tlwd-transition-colors tlwd-duration-200"),o(a,"class","tlwd-text-neutral-300 tlwd-select-none tlwd-transition-colors tlwd-duration-200 hover:tlwd-text-neutral-200"),o(f,"class","tlwd-flex tlwd-items-center tlwd-ml-1"),o(f,"id","context-toggle-description"),o(f,"role","tooltip"),o(f,"aria-label","When enabled, your question will include the current page's content as context for more relevant answers"),o(s,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-cursor-pointer tlwd-text-sm tlwd-focus-within:tlwd-outline tlwd-focus-within:tlwd-outline-2 tlwd-focus-within:tlwd-outline-blue-500 tlwd-focus-within:tlwd-outline-offset-2 tlwd-rounded"),o(s,"for","context-toggle"),o(r,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full tlwd-mb-3"),o(I,"class","tlwd-flex tlwd-items-center"),o(_,"id","open-webui-search-input"),o(_,"placeholder",j=l[0]?"Ask about this page...":"Search Open WebUI"),o(_,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(_,"autocomplete","one-time-code"),o(A,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full"),o(W,"class","tlwd-text-right tlwd-text-[0.7rem] tlwd-p-0 tlwd-m-0 tlwd-text-neutral-300 tlwd-h-fit"),o(S,"class","tlwd-h-fit tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-yellow-400 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none tlwd-mr-1"),o(S,"type","button"),o(S,"title","Test Content Extraction"),o(v,"class","tlwd-h-fit tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-neutral-100 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none"),o(v,"type","button"),o(D,"class","tlwd-flex tlwd-justify-end tlwd-gap-1 tlwd-items-center"),o(n,"class","tlwd-text-gray-200 tlwd-w-full tlwd-p-0 tlwd-m-0"),o(n,"autocomplete","off"),o(t,"class","tlwd-w-full tlwd-flex tlwd-flex-col tlwd-justify-between tlwd-py-2.5 tlwd-px-3.5 tlwd-rounded-2xl tlwd-outline tlwd-outline-1 tlwd-outline-gray-850 tlwd-backdrop-blur-3xl tlwd-bg-gray-850/70 shadow-4xl modal-animation"),o(e,"class","tlwd-m-auto tlwd-max-w-xl tlwd-w-full tlwd-pb-32")},m(H,q){O(H,e,q),d(e,t),d(t,n),d(n,r),d(r,s),d(s,c),c.checked=l[0],d(s,i),d(s,p),d(p,g),B&&B.m(g,null),d(s,u),d(s,a),d(s,y),d(s,f),d(n,x),d(n,A),d(A,I),d(A,M),d(A,_),K(_,l[5]),d(n,V),d(n,D),d(D,W),d(D,U),d(D,S),d(D,L),d(D,v),d(t,N),R&&R.m(t,null),lt||(rt=[E(c,"change",l[23]),E(c,"click",ce),E(c,"keydown",l[24]),E(_,"input",l[25]),E(S,"click",l[17]),E(v,"click",l[26]),E(n,"submit",l[13]),E(n,"mousedown",ae)],lt=!0)},p(H,q){q[0]&1&&(c.checked=H[0]),H[0]?B||(B=xt(),B.c(),B.m(g,null)):B&&(B.d(1),B=null),q[0]&1&&w!==(w="tlwd-w-4 tlwd-h-4 tlwd-rounded tlwd-border tlwd-transition-all tlwd-duration-200 "+(H[0]?"tlwd-bg-blue-500 tlwd-border-blue-500 tlwd-shadow-sm":"tlwd-border-gray-400 tlwd-bg-transparent hover:tlwd-border-gray-300"))&&o(g,"class",w),q[0]&1&&j!==(j=H[0]?"Ask about this page...":"Search Open WebUI")&&o(_,"placeholder",j),q[0]&32&&_.value!==H[5]&&K(_,H[5]),H[9]?R?R.p(H,q):(R=kt(H),R.c(),R.m(t,null)):R&&(R.d(1),R=null)},d(H){H&&F(e),B&&B.d(),R&&R.d(),lt=!1,G(rt)}}}function ne(l){let e,t,n,r,s,c,i,p,g,w,u,a,y,f,x,A,I,M=l[6]&&l[6].length>0&&Et(l);return{c(){e=m("div"),t=m("div"),n=m("form"),r=m("div"),s=m("div"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>`,c=C(),i=m("input"),p=C(),g=m("div"),w=m("div"),w.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"></path></svg>`,u=C(),a=m("input"),y=C(),f=m("button"),f.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>`,x=C(),M&&M.c(),o(s,"class","tlwd-flex tlwd-items-center"),o(i,"id","open-webui-url-input"),o(i,"placeholder","Open WebUI URL"),o(i,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(i,"autocomplete","one-time-code"),i.required=!0,o(r,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full"),o(w,"class","tlwd-flex tlwd-items-center"),o(a,"placeholder","Open WebUI API Key"),o(a,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(a,"autocomplete","one-time-code"),a.required=!0,o(f,"class","tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-neutral-100 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none"),o(f,"type","button"),o(g,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full tlwd-mt-2"),o(n,"class","tlwd-text-gray-200 tlwd-w-full tlwd-p-0 tlwd-m-0"),o(n,"autocomplete","off"),o(t,"class","tlwd-w-full tlwd-flex tlwd-flex-col tlwd-justify-between tlwd-py-2.5 tlwd-px-3.5 tlwd-rounded-2xl tlwd-outline tlwd-outline-1 tlwd-outline-gray-850 tlwd-backdrop-blur-3xl tlwd-bg-gray-850/70 shadow-4xl modal-animation"),o(e,"class","tlwd-m-auto tlwd-max-w-sm tlwd-w-full tlwd-pb-32")},m(_,j){O(_,e,j),d(e,t),d(t,n),d(n,r),d(r,s),d(r,c),d(r,i),K(i,l[3]),d(n,p),d(n,g),d(g,w),d(g,u),d(g,a),K(a,l[4]),d(g,y),d(g,f),d(n,x),M&&M.m(n,null),A||(I=[E(i,"input",l[19]),E(a,"input",l[20]),E(f,"click",l[21]),E(n,"submit",l[18]),E(n,"mousedown",ie)],A=!0)},p(_,j){j[0]&8&&i.value!==_[3]&&K(i,_[3]),j[0]&16&&a.value!==_[4]&&K(a,_[4]),_[6]&&_[6].length>0?M?M.p(_,j):(M=Et(_),M.c(),M.m(n,null)):M&&(M.d(1),M=null)},d(_){_&&F(e),M&&M.d(),A=!1,G(I)}}}function xt(l){let e,t;return{c(){e=Z("svg"),t=Z("path"),o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m4.5 12.75 6 6 9-13.5"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",3),o(e,"stroke","currentColor"),o(e,"class","tlwd-w-3 tlwd-h-3 tlwd-text-white tlwd-absolute tlwd-top-0.5 tlwd-left-0.5 tlwd-transition-opacity tlwd-duration-200"),o(e,"role","img"),o(e,"aria-hidden","true")},m(n,r){O(n,e,r),d(e,t)},d(n){n&&F(e)}}}function kt(l){let e,t,n,r,s,c,i,p=l[7]?"AI is responding...":"Response complete",g,w,u,a,y,f,x,A,I,M,_,j,V,D;function W(v,N){return v[8]?se:v[7]?re:oe}let U=W(l),S=U(l),L=l[11]&&l[10]&&Ct(l);return{c(){e=m("div"),t=m("div"),n=m("div"),r=m("div"),c=C(),i=m("span"),g=J(p),w=C(),u=m("div"),a=m("button"),y=Z("svg"),f=Z("path"),A=C(),I=m("button"),I.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="tlwd-w-4 tlwd-h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',M=C(),_=m("div"),S.c(),j=C(),L&&L.c(),o(r,"class",s="tlwd-w-2 tlwd-h-2 tlwd-rounded-full "+(l[7]?"tlwd-bg-blue-500 tlwd-animate-pulse":"tlwd-bg-green-500")),o(i,"class","tlwd-text-sm tlwd-text-gray-300"),o(n,"class","tlwd-flex tlwd-items-center tlwd-gap-2"),o(f,"stroke-linecap","round"),o(f,"stroke-linejoin","round"),o(f,"d","M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"),o(y,"xmlns","http://www.w3.org/2000/svg"),o(y,"fill","none"),o(y,"viewBox","0 0 24 24"),o(y,"stroke-width",2),o(y,"stroke","currentColor"),o(y,"class","tlwd-w-4 tlwd-h-4"),o(a,"class","tlwd-p-1 tlwd-rounded tlwd-bg-transparent hover:tlwd-bg-gray-700 tlwd-text-gray-400 hover:tlwd-text-gray-200 tlwd-transition-colors tlwd-duration-200"),o(a,"type","button"),o(a,"title","Copy response"),a.disabled=x=!l[8],o(I,"class","tlwd-p-1 tlwd-rounded tlwd-bg-transparent hover:tlwd-bg-gray-700 tlwd-text-gray-400 hover:tlwd-text-gray-200 tlwd-transition-colors tlwd-duration-200"),o(I,"type","button"),o(I,"title","Clear response"),o(u,"class","tlwd-flex tlwd-items-center tlwd-gap-2"),o(t,"class","tlwd-flex tlwd-items-center tlwd-justify-between tlwd-mb-3"),o(_,"class","tlwd-max-h-96 tlwd-overflow-y-auto tlwd-text-sm tlwd-text-gray-200 tlwd-leading-relaxed tlwd-whitespace-pre-wrap"),o(e,"class","tlwd-mt-4 tlwd-p-4 tlwd-rounded-xl tlwd-bg-gray-800/50 tlwd-backdrop-blur-sm tlwd-border tlwd-border-gray-700")},m(v,N){O(v,e,N),d(e,t),d(t,n),d(n,r),d(n,c),d(n,i),d(i,g),d(t,w),d(t,u),d(u,a),d(a,y),d(y,f),d(u,A),d(u,I),d(e,M),d(e,_),S.m(_,null),d(e,j),L&&L.m(e,null),V||(D=[E(a,"click",l[27]),E(I,"click",l[28])],V=!0)},p(v,N){N[0]&128&&s!==(s="tlwd-w-2 tlwd-h-2 tlwd-rounded-full "+(v[7]?"tlwd-bg-blue-500 tlwd-animate-pulse":"tlwd-bg-green-500"))&&o(r,"class",s),N[0]&128&&p!==(p=v[7]?"AI is responding...":"Response complete")&&wt(g,p),N[0]&256&&x!==(x=!v[8])&&(a.disabled=x),U===(U=W(v))&&S?S.p(v,N):(S.d(1),S=U(v),S&&(S.c(),S.m(_,null))),v[11]&&v[10]?L?L.p(v,N):(L=Ct(v),L.c(),L.m(e,null)):L&&(L.d(1),L=null)},d(v){v&&F(e),S.d(),L&&L.d(),V=!1,G(D)}}}function oe(l){let e;return{c(){e=m("div"),e.textContent="No response yet",o(e,"class","tlwd-text-gray-500")},m(t,n){O(t,e,n)},p:Q,d(t){t&&F(e)}}}function re(l){let e;return{c(){e=m("div"),e.innerHTML=`<div class="tlwd-animate-spin tlwd-w-4 tlwd-h-4 tlwd-border-2 tlwd-border-gray-600 tlwd-border-t-blue-500 tlwd-rounded-full"></div>
                    Waiting for response...`,o(e,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-text-gray-400")},m(t,n){O(t,e,n)},p:Q,d(t){t&&F(e)}}}function se(l){let e;return{c(){e=J(l[8])},m(t,n){O(t,e,n)},p(t,n){n[0]&256&&wt(e,t[8])},d(t){t&&F(e)}}}function Ct(l){let e,t,n,r,s,c,i,p,g,w=l[10].canRetry&&Mt(l),u=l[10].canRetryWithoutContext&&St(l);return{c(){e=m("div"),t=m("div"),t.textContent="Error Recovery Options",n=C(),r=m("div"),w&&w.c(),s=C(),u&&u.c(),c=C(),i=m("button"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="tlwd-w-3 tlwd-h-3"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>
                      Open in New Tab`,o(t,"class","tlwd-text-xs tlwd-text-gray-400 tlwd-mb-3"),o(i,"class","tlwd-px-3 tlwd-py-1.5 tlwd-text-xs tlwd-bg-gray-600 hover:tlwd-bg-gray-700 tlwd-text-white tlwd-rounded tlwd-transition-colors tlwd-duration-200 tlwd-flex tlwd-items-center tlwd-gap-1"),o(i,"type","button"),o(r,"class","tlwd-flex tlwd-flex-wrap tlwd-gap-2"),o(e,"class","tlwd-mt-4 tlwd-pt-4 tlwd-border-t tlwd-border-gray-600")},m(a,y){O(a,e,y),d(e,t),d(e,n),d(e,r),w&&w.m(r,null),d(r,s),u&&u.m(r,null),d(r,c),d(r,i),p||(g=E(i,"click",l[16]),p=!0)},p(a,y){a[10].canRetry?w?w.p(a,y):(w=Mt(a),w.c(),w.m(r,s)):w&&(w.d(1),w=null),a[10].canRetryWithoutContext?u?u.p(a,y):(u=St(a),u.c(),u.m(r,c)):u&&(u.d(1),u=null)},d(a){a&&F(e),w&&w.d(),u&&u.d(),p=!1,g()}}}function Mt(l){let e,t,n,r,s,c;return{c(){e=m("button"),t=Z("svg"),n=Z("path"),r=J(`
                        Retry with Context`),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(t,"stroke-width",2),o(t,"stroke","currentColor"),o(t,"class","tlwd-w-3 tlwd-h-3"),o(e,"class","tlwd-px-3 tlwd-py-1.5 tlwd-text-xs tlwd-bg-blue-600 hover:tlwd-bg-blue-700 tlwd-text-white tlwd-rounded tlwd-transition-colors tlwd-duration-200 tlwd-flex tlwd-items-center tlwd-gap-1"),o(e,"type","button"),e.disabled=l[7]},m(i,p){O(i,e,p),d(e,t),d(t,n),d(e,r),s||(c=E(e,"click",l[14]),s=!0)},p(i,p){p[0]&128&&(e.disabled=i[7])},d(i){i&&F(e),s=!1,c()}}}function St(l){let e,t,n,r,s,c;return{c(){e=m("button"),t=Z("svg"),n=Z("path"),r=J(`
                        Retry without Context`),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(t,"stroke-width",2),o(t,"stroke","currentColor"),o(t,"class","tlwd-w-3 tlwd-h-3"),o(e,"class","tlwd-px-3 tlwd-py-1.5 tlwd-text-xs tlwd-bg-orange-600 hover:tlwd-bg-orange-700 tlwd-text-white tlwd-rounded tlwd-transition-colors tlwd-duration-200 tlwd-flex tlwd-items-center tlwd-gap-1"),o(e,"type","button"),e.disabled=l[7]},m(i,p){O(i,e,p),d(e,t),d(t,n),d(e,r),s||(c=E(e,"click",l[15]),s=!0)},p(i,p){p[0]&128&&(e.disabled=i[7])},d(i){i&&F(e),s=!1,c()}}}function Et(l){let e,t,n,r,s,c,i,p,g,w=ht(l[6]),u=[];for(let a=0;a<w.length;a+=1)u[a]=It(_t(l,w,a));return{c(){e=m("div"),t=m("div"),t.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"></path></svg>`,n=C(),r=m("select"),s=m("option"),s.textContent="Select a model";for(let a=0;a<u.length;a+=1)u[a].c();c=C(),i=m("button"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="${2.5}" stroke="currentColor" class="tlwd-size-5"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5"></path></svg>`,o(t,"class","tlwd-flex tlwd-items-center"),s.__value="",K(s,s.__value),o(r,"id","open-webui-model-input"),o(r,"class","tlwd-p-0 tlwd-m-0 tlwd-text-xl tlwd-w-full tlwd-font-medium tlwd-bg-transparent tlwd-border-none placeholder:tlwd-text-gray-500 tlwd-text-neutral-100 tlwd-outline-none"),o(r,"autocomplete","off"),r.required=!0,l[12]===void 0&&dt(()=>l[22].call(r)),o(i,"class","tlwd-flex tlwd-items-center tlwd-bg-transparent tlwd-text-neutral-100 tlwd-cursor-pointer tlwd-p-0 tlwd-m-0 tlwd-outline-none tlwd-border-none"),o(i,"type","submit"),o(e,"class","tlwd-flex tlwd-items-center tlwd-gap-2 tlwd-w-full tlwd-mt-2")},m(a,y){O(a,e,y),d(e,t),d(e,n),d(e,r),d(r,s);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(r,null);pt(r,l[12],!0),d(e,c),d(e,i),p||(g=E(r,"change",l[22]),p=!0)},p(a,y){if(y[0]&64){w=ht(a[6]);let f;for(f=0;f<w.length;f+=1){const x=_t(a,w,f);u[f]?u[f].p(x,y):(u[f]=It(x),u[f].c(),u[f].m(r,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=w.length}y[0]&4160&&pt(r,a[12])},d(a){a&&F(e),Wt(u,a),p=!1,g()}}}function It(l){let e,t=(l[12].name??l[12].id)+"",n,r;return{c(){e=m("option"),n=J(t),e.__value=r=l[12].id,K(e,e.__value)},m(s,c){O(s,e,c),d(e,n)},p(s,c){c[0]&64&&t!==(t=(s[12].name??s[12].id)+"")&&wt(n,t),c[0]&64&&r!==(r=s[12].id)&&(e.__value=r,K(e,e.__value))},d(s){s&&F(e)}}}function de(l){let e,t=l[1]&&vt(l);return{c(){t&&t.c(),e=Ut()},m(n,r){t&&t.m(n,r),O(n,e,r)},p(n,r){n[1]?t?t.p(n,r):(t=vt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&F(e),t&&t.d(n)}}}const ie=l=>{l.stopPropagation()},ce=l=>l.stopPropagation(),ae=l=>{l.stopPropagation()};function ue(l,e,t){let n=!1,r=!0,s="",c="",i="",p="",g=[],w=!0,u=!1,a="",y=!1,f=null,x=!1;const A=()=>{console.log("resetConfig");try{chrome.storage.local.clear().then(()=>{console.log("Value is cleared")})}catch(b){console.log(b),localStorage.setItem("url",""),localStorage.setItem("key",""),localStorage.setItem("model",""),localStorage.setItem("includePageContext","true")}t(3,s=""),t(4,c=""),t(12,i=""),t(6,g=[]),t(0,w=!0),t(2,r=!0),t(9,y=!1),t(8,a=""),t(7,u=!1),t(10,f=null),t(11,x=!1)},I=async b=>{var P,T;if(b.preventDefault(),!!p.trim()){if(!w){window.open(`${s}/?q=${encodeURIComponent(p)}&models=${i}`,"_blank"),t(5,p=""),t(1,n=!1);return}try{t(7,u=!0),t(9,y=!0),t(8,a=""),t(10,f=null),t(11,x=!1);let h=null,X=!1;try{console.log("ðŸ“„ Extracting page content..."),h=await Promise.race([yt(),new Promise((z,it)=>setTimeout(()=>it(new Error("Content extraction timeout")),1e4))]),console.log("âœ… Page content extracted successfully")}catch(z){console.warn("âš ï¸ Content extraction failed:",z),X=!0,t(10,f={type:"content_extraction",message:"Unable to extract page content",details:z.message,canRetryWithoutContext:!0}),t(8,a=`Unable to extract page content: ${z.message}

You can try again without page context, or retry with context.`),t(7,u=!1),t(11,x=!0);return}const k=M(p,h);console.log("ðŸš€ Starting context-aware completion:",{userQuery:p,hasContext:!!h,contextLength:((P=h==null?void 0:h.mainContent)==null?void 0:P.length)||0});const Y=await Promise.race([chrome.runtime.sendMessage({action:"fetchCompletion",url:s,key:c,isOpenAI:((T=g.find(z=>z.id===i))==null?void 0:T.owned_by)==="openai",payload:{model:i,messages:[{role:"system",content:"You are a helpful assistant. When provided with page context, use it to give more relevant and specific answers to the user's questions."},{role:"user",content:k}],stream:!0}}),new Promise((z,it)=>setTimeout(()=>it(new Error("API request timeout")),3e4))]);if(!Y.success)throw new Error(Y.error)}catch(h){console.error("âŒ Context-aware query failed:",h);const X=h.message.includes("timeout")||h.message.includes("network")||h.message.includes("fetch"),k=h.message.includes("API")||h.message.includes("unauthorized")||h.message.includes("400")||h.message.includes("401")||h.message.includes("500");X?(t(10,f={type:"network",message:"Network connection issue",details:h.message,canRetry:!0,canRetryWithoutContext:!0}),t(8,a=`Network Error: ${h.message}

This might be due to:
â€¢ Poor internet connection
â€¢ Server is temporarily unavailable
â€¢ Request timeout

You can retry or try without page context.`)):k?(t(10,f={type:"api",message:"AI service unavailable",details:h.message,canRetry:!0,canRetryWithoutContext:!0}),t(8,a=`API Error: ${h.message}

This might be due to:
â€¢ Invalid API key or configuration
â€¢ Server maintenance
â€¢ Rate limiting

Please check your settings or try again later.`)):(t(10,f={type:"unknown",message:"Unexpected error occurred",details:h.message,canRetry:!0,canRetryWithoutContext:!0}),t(8,a=`Unexpected Error: ${h.message}

Something went wrong. You can try again or use the fallback search.`)),t(7,u=!1),t(11,x=!0),console.error("ðŸ› Error details:",{type:f.type,message:f.message,details:f.details,timestamp:new Date().toISOString()})}}},M=(b,P)=>{let T="";return P&&(T+=`Context: Page Title: ${P.title||"Untitled"}
`,T+=`URL: ${P.url}
`,P.metaDescription&&(T+=`Description: ${P.metaDescription}
`),P.selectedText&&(T+=`Selected Text: ${P.selectedText}
`),T+=`Content: ${P.mainContent||"No content available"}

`),T+=`User Question: ${b}

`,P&&(T+="Please answer the user's question based on the provided page context. If the context is not relevant to the question, you can provide a general answer but mention that the context may not be directly related."),T},_=async()=>{console.log("ðŸ”„ Retrying with context..."),t(10,f=null),t(11,x=!1),await I({preventDefault:()=>{}})},j=async()=>{console.log("ðŸ”„ Retrying without context...");const b=w;t(0,w=!1),t(10,f=null),t(11,x=!1);try{await I({preventDefault:()=>{}})}finally{t(0,w=b)}},V=()=>{console.log("ðŸ”„ Falling back to normal search..."),window.open(`${s}/?q=${encodeURIComponent(p)}&models=${i}`,"_blank"),t(5,p=""),t(1,n=!1),t(9,y=!1),t(8,a=""),t(10,f=null),t(11,x=!1)},D=async()=>{try{console.log("ðŸ§ª Testing content extraction and context-aware prompt..."),console.log("ðŸ“‹ Toggle State:",{includePageContext:w,placeholder:w?"Ask about this page...":"Search Open WebUI"});const b=await yt();console.log("âœ… Content extracted successfully:",b);const T=M("What is this page about?",b);console.log("ðŸ“ Context-aware prompt created:",T),console.log("ðŸ“Š Content Summary:",{title:b.title,domain:b.domain,contentLength:b.contentLength,hasMetaDescription:!!b.metaDescription,hasSelectedText:!!b.selectedText,timestamp:b.timestamp,promptLength:T.length}),alert(`Content extraction & prompt creation successful!

Toggle State: ${w?"Enabled":"Disabled"}
Title: ${b.title}
Domain: ${b.domain}
Content Length: ${b.contentLength} chars
Prompt Length: ${T.length} chars

Check console for full details including the generated prompt.`)}catch(b){console.error("âŒ Content extraction failed:",b),alert(`Content extraction failed: ${b.message}`)}},W=b=>{b.preventDefault();try{chrome.storage.local.set({url:s,key:c,model:i,includePageContext:w}).then(()=>{console.log("Value is set")})}catch(P){console.log(P),localStorage.setItem("url",s),localStorage.setItem("key",c),localStorage.setItem("model",i),localStorage.setItem("includePageContext",w.toString())}t(2,r=!1)};Vt(async()=>{let b=null;try{b=await chrome.storage.local.get()}catch(h){console.log(h)}const P=h=>{h.action==="streamChunk"?t(8,a+=h.text):h.action==="streamComplete"&&(console.log("ðŸ Context-aware stream completed"),t(7,u=!1))};try{chrome.runtime.onMessage.addListener(P)}catch(h){console.log("Failed to add message listener:",h)}b&&(t(3,s=b.url??""),t(4,c=b.key??""),t(12,i=b.model??""),t(0,w=b.includePageContext??!0),b.url&&b.key&&b.model&&(t(6,g=await bt(b.key,b.url).catch(h=>{console.log(h),A()})),g&&t(2,r=!1)));const T=async h=>{var X;if(n&&h.shiftKey&&h.key==="Escape"?A():h.key==="Escape"&&(y||x?(t(9,y=!1),t(8,a=""),t(7,u=!1),t(10,f=null),t(11,x=!1)):t(1,n=!1)),h.key===" "&&(h.metaKey||h.ctrlKey)&&(h.shiftKey||h.altKey)){console.log("ðŸ”§ Search shortcut triggered"),h.preventDefault();try{const k=await chrome.runtime.sendMessage({action:"getSelection"});((k==null?void 0:k.data)??!1)&&t(5,p=k.data)}catch(k){console.log("catch",k)}t(1,n=!n),setTimeout(()=>{const k=document.getElementById("open-webui-search-input");k&&k.focus()},0)}if(c!==""&&s!==""&&h.key==="Enter"&&(h.metaKey||h.ctrlKey)&&(h.shiftKey||h.altKey)){h.preventDefault();try{console.log("ðŸ”§ Direct completion triggered");const k=await chrome.runtime.sendMessage({action:"getSelection"});if(console.log("ðŸ“ Selected text:",k==null?void 0:k.data),(k==null?void 0:k.data)??!1){console.log("âœ… Text selected, starting AI completion"),await chrome.runtime.sendMessage({action:"writeText",text:`
`}),console.log("ðŸŒ Using background script for API call");const Y=await chrome.runtime.sendMessage({action:"fetchCompletion",url:s,key:c,isOpenAI:((X=g.find(z=>z.id===i))==null?void 0:X.owned_by)==="openai",payload:{model:i,messages:[{role:"system",content:"You are a helpful assistant."},{role:"user",content:k.data}],stream:!0}});Y.success?console.log("ðŸš€ Background streaming started"):(console.error("âŒ Background request failed:",Y.error),await chrome.runtime.sendMessage({action:"writeText",text:`Error: ${Y.error}`}))}else console.log("âš ï¸ No text selected"),await chrome.runtime.sendMessage({action:"writeText",text:"No text selected. Please select text first."})}catch(k){console.error("ðŸ’¥ Completion error:",k);try{await chrome.runtime.sendMessage({action:"writeText",text:`Error: ${k.message}`})}catch(Y){console.error("Failed to send error message:",Y)}}}};return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T);try{chrome.runtime.onMessage.removeListener(P)}catch(h){console.log("Failed to remove message listener:",h)}}});function U(){s=this.value,t(3,s)}function S(){c=this.value,t(4,c)}const L=async()=>{s.endsWith("/")&&t(3,s=s.slice(0,-1)),t(6,g=await bt(c,s))};function v(){i=zt(this),t(12,i),t(6,g)}function N(){w=this.checked,t(0,w)}const lt=b=>{b.key===" "&&(b.preventDefault(),b.stopPropagation(),t(0,w=!w))};function rt(){p=this.value,t(5,p)}const B=()=>{t(2,r=!0)},R=()=>{navigator.clipboard.writeText(a)},H=()=>{t(9,y=!1),t(8,a=""),t(5,p=""),t(10,f=null),t(11,x=!1)},q=()=>{t(1,n=!1)};return l.$$.update=()=>{if(l.$$.dirty[0]&1&&typeof w<"u")try{chrome.storage.local.set({includePageContext:w})}catch{localStorage.setItem("includePageContext",w.toString())}},[w,n,r,s,c,p,g,u,a,y,f,x,i,I,_,j,V,D,W,U,S,L,v,N,lt,rt,B,R,H,q]}class we extends Ht{constructor(e){super(),Bt(this,e,ue,de,Tt,{},null,[-1,-1])}}function fe(l){let e,t,n;return t=new we({}),{c(){e=m("div"),$t(t.$$.fragment),o(e,"class","extension-container")},m(r,s){O(r,e,s),Ft(t,e,null),n=!0},p:Q,i(r){n||(Rt(t.$$.fragment,r),n=!0)},o(r){Xt(t.$$.fragment,r),n=!1},d(r){r&&F(e),jt(t)}}}class pe extends Ht{constructor(e){super(),Bt(this,e,null,fe,Tt,{})}}new pe({target:document.getElementById("extension-app")});
